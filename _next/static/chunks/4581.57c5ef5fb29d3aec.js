"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4581],{98197:function(t,e,r){r.d(e,{D:function(){return w},F:function(){return u},I:function(){return c},a:function(){return l},b:function(){return f},c:function(){return d},f:function(){return p},g:function(){return g},u:function(){return h}});var n=r(99756),a=r(16441),i=r(2593),o=r(64146),s=r(48764).Buffer;let c=a.arrayify("0x80ac58cd"),l=a.arrayify("0xd9b67a26"),u={name:"Failed to load NFT metadata"};async function p(t,e,r){let o;if(e.startsWith("data:application/json;base64")&&void 0!==s){let r=e.split(",")[1],a=JSON.parse(s.from(r,"base64").toString("utf-8"));return n.C.parse({...a,id:i.O$.from(t).toString(),uri:e})}let c=e.replace("{id}",a.hexZeroPad(i.O$.from(t).toHexString(),32).slice(2));try{o=await r.downloadJSON(c)}catch(a){let n=e.replace("{id}",i.O$.from(t).toString());try{o=await r.downloadJSON(n)}catch(r){console.warn(`failed to get token metadata: ${JSON.stringify({tokenId:t.toString(),tokenUri:e})} -- falling back to default metadata`),o=u}}return n.C.parse({...o,id:i.O$.from(t).toString(),uri:e})}async function d(t,e,a,s){let d;let f=(await r.e(5025).then(r.t.bind(r,25025,19))).default,h=new o.CH(t,f,e),[g,w]=await Promise.all([h.supportsInterface(c),h.supportsInterface(l)]);if(g){let n=(await Promise.resolve().then(r.t.bind(r,34161,19))).default,i=new o.CH(t,n,e);d=await i.tokenURI(a)}else if(w){let n=(await Promise.resolve().then(r.t.bind(r,50266,19))).default,i=new o.CH(t,n,e);d=await i.uri(a)}else throw Error("Contract must implement ERC 1155 or ERC 721.");return d?p(a,d,s):n.C.parse({...u,id:i.O$.from(a).toString(),uri:""})}async function f(t,e){return"string"==typeof t?t:await e.upload(n.a.parse(t))}async function h(t,e,r,a){if(void 0===t.find(t=>"string"!=typeof t))return t;if(void 0===t.find(t=>"object"!=typeof t)){let i=await e.uploadBatch(t.map(t=>n.a.parse(t)),{rewriteFileNames:{fileStartNumber:r||0},onProgress:a?.onProgress});return i}throw Error("NFT metadatas must all be of the same type (all URI or all NFTMetadataInput)")}function g(t){let e=t[0].substring(0,t[0].lastIndexOf("/"));for(let r=0;r<t.length;r++){let n=t[r].substring(0,t[r].lastIndexOf("/"));if(e!==n)throw Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${e}' but got '${n}'`)}return e.replace(/\/$/,"")+"/"}let w=100},49190:function(t,e,r){r.d(e,{E:function(){return c},R:function(){return o},S:function(){return s},a:function(){return l}});var n=r(2593),a=r(1604),i=r(26212);let o=a.z.union([a.z.date().transform(t=>n.O$.from(Math.floor(t.getTime()/1e3))),a.z.number().transform(t=>n.O$.from(t))]),s=o.default(new Date(0)),c=o.default(new Date(Date.now()+31536e7));function l(t,e){if(!t)throw new i.x(e);return t}},72555:function(t,e,r){r.d(e,{C:function(){return n}});class n{constructor(t){this.contractWrapper=t}overrideNextTransaction(t){this.contractWrapper.withTransactionOverride(t)}}},92530:function(t,e,r){r.r(e),r.d(e,{MarketplaceV3:function(){return d}});var n=r(49190),a=r(24942),i=r(26212),o=r(69262),s=r(72555),c=r(64558),l=r(4081),u=r(39921),p=r(60824);r(13550),r(77191),r(54146);class d{static contractRoles=i.dE;get directListings(){return(0,n.a)(this.detectDirectListings(),i.dy)}get englishAuctions(){return(0,n.a)(this.detectEnglishAuctions(),i.dz)}get offers(){return(0,n.a)(this.detectOffers(),i.dA)}get chainId(){return this._chainId}constructor(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4?arguments[4]:void 0,p=arguments.length>5?arguments[5]:void 0,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new i.cu(t,e,u,n,r);this._chainId=p,this.abi=i.bn.parse(u||[]),this.contractWrapper=f,this.storage=r,this.metadata=new a.C(this.contractWrapper,i.c1,this.storage),this.app=new a.b(this.contractWrapper,this.metadata,this.storage),this.roles=new l.C(this.contractWrapper,d.contractRoles),this.encoder=new o.C(this.contractWrapper),this.estimator=new a.G(this.contractWrapper),this.events=new a.a(this.contractWrapper),this.platformFees=new c.C(this.contractWrapper),this.interceptor=new s.C(this.contractWrapper)}onNetworkUpdated(t){this.contractWrapper.updateSignerOrProvider(t)}getAddress(){return this.contractWrapper.address}async prepare(t,e,r){return p.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:t,args:e,overrides:r})}async call(t,e,r){return this.contractWrapper.call(t,e,r)}detectDirectListings(){if((0,a.d)(this.contractWrapper,"DirectListings"))return new u.M(this.contractWrapper,this.storage)}detectEnglishAuctions(){if((0,a.d)(this.contractWrapper,"EnglishAuctions"))return new u.a(this.contractWrapper,this.storage)}detectOffers(){if((0,a.d)(this.contractWrapper,"Offers"))return new u.b(this.contractWrapper,this.storage)}}},99756:function(t,e,r){r.d(e,{B:function(){return c},C:function(){return p},N:function(){return u},a:function(){return l},s:function(){return d}});var n=r(26212),a=r(1604),i=r(69262);let o=a.z.object({}).catchall(a.z.union([n.cA,a.z.unknown()])),s=a.z.union([a.z.array(o),o]).optional().nullable(),c=a.z.object({name:a.z.union([a.z.string(),a.z.number()]).optional().nullable(),description:a.z.string().nullable().optional().nullable(),image:n.cB.nullable().optional(),animation_url:n.cB.optional().nullable()}),l=c.extend({external_url:n.cB.nullable().optional(),background_color:n.cC.optional().nullable(),properties:s,attributes:s}).catchall(a.z.union([n.cA,a.z.unknown()])),u=a.z.union([l,a.z.string()]),p=l.extend({id:a.z.string(),uri:a.z.string(),image:a.z.string().nullable().optional(),external_url:a.z.string().nullable().optional(),animation_url:a.z.string().nullable().optional()});async function d(t,e,a,o){if((0,i.i)(a))o.value=e;else{let i=(await Promise.resolve().then(r.t.bind(r,49242,19))).default,s=t.getSigner(),c=t.getProvider(),l=new n.cu(s||c,a,i,t.options,t.storage),u=await t.getSignerAddress(),p=t.address,d=await l.read("allowance",[u,p]);return d.lt(e)&&await l.sendTransaction("approve",[p,e]),o}}}}]);